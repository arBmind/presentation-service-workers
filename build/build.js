(function(L){"object"===typeof exports&&"undefined"!==typeof module?module.exports=L():"function"===typeof define&&define.amd?define([],L):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).bespoke=L()})(function(){return function f(e,g,b){function c(a,r){if(!g[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(d)return d(a,!0);l=Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l;}l=g[a]={exports:{}};
e[a][0].call(l.exports,function(b){var h=e[a][1][b];return c(h?h:b)},l,l.exports,f,e,g,b)}return g[a].exports}for(var d="function"==typeof require&&require,a=0;a<b.length;a++)c(b[a]);return c}({1:[function(f,e,g){e.exports=function(){return function(b){var c=function(a,b){a.classList.add("bespoke-"+b)},d=function(a,b){a.className=a.className.replace(new RegExp("bespoke-"+b+"(\\s|$)","g")," ").trim()},a=function(a,e){var l=b.slides[b.slide()],f=e-b.slide(),h=0<f?"after":"before";["before(-\\d+)?",
"after(-\\d+)?","active","inactive"].map(d.bind(null,a));a!==l&&["inactive",h,h+"-"+Math.abs(f)].map(c.bind(null,a))};c(b.parent,"parent");b.slides.map(function(a){c(a,"slide")});b.on("activate",function(q){b.slides.map(a);c(q.slide,"active");d(q.slide,"inactive")})}}},{}],2:[function(f,e,g){e.exports=function(){return function(b){var c=function(){var a;(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(a=document).exitFullscreen||
a.webkitExitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen:(a=document.documentElement).requestFullscreen||a.webkitRequestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen).apply(a)},d=function(a){var b=a.which;70!==b&&122!==b||a.ctrlKey||a.shiftKey||a.altKey||a.metaKey||(c(),122===b&&a.preventDefault())};if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)b.on("destroy",function(){document.removeEventListener("keydown",
d)}),b.on("fullscreen.toggle",c),document.addEventListener("keydown",d)}}},{}],3:[function(f,e,g){e.exports=function(){return function(b){var c=function(){var a=window.location.hash.slice(1),c=parseInt(a,10);a&&(c?d(c-1):b.slides.forEach(function(b,c){b.getAttribute("data-bespoke-hash")===a&&d(c)}))},d=function(a){a=-1<a&&a<b.slides.length?a:0;a!==b.slide()&&b.slide(a)};setTimeout(function(){c();b.on("activate",function(a){var b=a.slide.getAttribute("data-bespoke-hash");window.location.hash=b||a.index+
1});window.addEventListener("hashchange",c)},0)}}},{}],4:[function(f,e,g){e.exports=function(){return function(b){var c=function(c){var a=c.which;if(!(c.ctrlKey||c.shiftKey&&(36===a||35===a)||c.altKey||c.metaKey))switch(c.which){case 32:return(c.shiftKey?b.prev:b.next)();case 39:case 34:case 76:return b.next();case 37:case 33:case 72:return b.prev();case 36:return b.slide(0);case 35:return b.slide(b.slides.length-1)}};b.on("destroy",function(){document.removeEventListener("keydown",c)});document.addEventListener("keydown",
c)}}},{}],5:[function(f,e,g){e.exports=function(b){return function(c){var d=b||{},a=c.parent,e=null,f=null,l="page"+("y"===d.axis?"Y":"X"),g="number"===typeof d.threshold?d.threshold:50/window.devicePixelRatio,h=function(a){e=1===a.touches.length?a.touches[0][l]:null},m=function(a){if(null!==e){if(void 0===e)return a.preventDefault();Math.abs(f=a.touches[0][l]-e)>g&&((0<f?c.prev:c.next)(),e=a.preventDefault())}};c.on("destroy",function(){a.removeEventListener("touchstart",h);a.removeEventListener("touchmove",
m)});a.addEventListener("touchstart",h);a.addEventListener("touchmove",m)}}},{}],6:[function(f,e,g){e.exports=function(b){b=b||{};var c=f("bespoke-nav-kbd")(b.kbd),d=f("bespoke-nav-touch")(b.touch);return function(a){c(a);d(a)}}},{"bespoke-nav-kbd":4,"bespoke-nav-touch":5}],7:[function(f,e,g){e.exports=function(b){f("insert-css")(".bespoke-parent.bespoke-overview{pointer-events:auto}.bespoke-overview :not(img){pointer-events:none}.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}.bespoke-overview .bespoke-active{outline:6px solid #cfd8dc;outline-offset:-3px;-moz-outline-radius:3px}.bespoke-overview .bespoke-bullet{opacity:1;visibility:visible}.bespoke-overview-counter{counter-reset:overview}.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview;content:counter(overview);position:absolute;right:.75em;bottom:.5em;font-size:1.25rem;line-height:1.25}.bespoke-title{visibility:hidden;position:absolute;top:0;left:0;width:100%;pointer-events:auto}.bespoke-title h1{margin:0;font-size:1.6em;line-height:1.2;text-align:center}.bespoke-overview:not(.bespoke-overview-to) .bespoke-title{visibility:visible}.bespoke-overview-to .bespoke-active,.bespoke-overview-from .bespoke-active{z-index:1}",
{prepend:!0});return function(c){b="object"===typeof b?b:{};var d=/, */,a=/^none(?:, ?none)*$/,e=/^translate\((.+?)px, ?(.+?)px\) scale\((.+?)\)$/,f=/(^\?|&)overview(?=$|&)/,l=!("transition"in document.body.style)&&"webkitTransition"in document.body.style?"webkitTransitionEnd":"transitionend",g=["webkit","Moz"],h="number"===typeof b.columns?parseInt(b.columns):3,m="number"===typeof b.margin?parseFloat(b.margin):15,t=null,u,k=function(a,b){if(!(b in a.style))for(var c=b.charAt(0).toUpperCase()+b.substr(1),
k=0,h=g.length;k<h;k++)if(g[k]+c in a.style)return g[k]+c;return b},w=function(a){if("zoom"in a.style)return parseFloat(a.style.zoom)||void 0},G=function(b){var c=[],h=getComputedStyle(b),w=h[k(b,"transitionProperty")];if(!w||a.test(w))return c;var w=w.split(d),l=h[k(b,"transitionDuration")].split(d),e=h[k(b,"transitionDelay")].split(d);w.forEach(function(a,b){"0s"===l[b]&&"0s"===e[b]||c.push(a)});return c},A=function(a,b,c,k){b&&(a.style[b]=c);a.offsetHeight;b&&(a.style[b]=k)},H=function(){c.on("activate",
H)();c.parent.scrollLeft=c.parent.scrollTop=0;(b.autostart||f.test(location.search))&&setTimeout(D,100)},P=function(){x(c.slides.indexOf(this))},I=function(a,b){var k=b.index+a;0<=k&&k<c.slides.length&&c.slide(k,{preview:!0});return!1},V=function(a){!1!==a.scrollIntoView&&J(a.slide,a.index,w(a.slide))},Q=function(a){var b=location.search.replace(f,"").replace(/^[^?]/,"?$&");a?history.replaceState(null,null,location.pathname+(0<b.length?b+"&":"?")+"overview"+location.hash):history.replaceState(null,
null,location.pathname+b+location.hash)},J=function(a,b,k){c.parent.scrollTop=b<h?0:c.parent.scrollTop+a.getBoundingClientRect().top*(k||1)},K=function(a,b,c,k){c.removeEventListener(l,u,!1);k&&k!==c&&k.removeEventListener(l,u,!1);u=void 0;b.remove("bespoke-overview-"+a)},W=function(a){var b=a.firstElementChild;if(b.classList.contains("bespoke-title"))return b.style.width="",b;var c=document.createElement("header");c.className="bespoke-title";c.style[k(c,"transformOrigin")]="0 0";var h=document.createElement("h1");
h.appendChild(document.createTextNode(a.getAttribute("data-title")||document.title));c.appendChild(h);A(a.insertBefore(c,b));return c},D=function(){var a=c.slides,d=c.parent,e=d.classList,f=a.length-1,g=c.slide(),q=0<g?a[0]:a[f],r=k(q,"transform"),n=d.querySelector(".bespoke-scale-parent"),p=1,y,v,M=0,R=t,S="webkitAppearance"in d.style;if(n)p=parseFloat(n.style[r].slice(6,-1));else if(y=w(q))p=y;u&&K("from",e,a[0],a[f]);b.title&&(v=W(d));R||(c.slide(g,{preview:!0}),e.add("bespoke-overview"),addEventListener("resize",
D,!1),t=[c.on("activate",V),c.on("prev",I.bind(null,-1)),c.on("next",I.bind(null,1))],b.counter&&e.add("bespoke-overview-counter"),b.location&&Q(!0),e.add("bespoke-overview-to"),M=0<f?G(q).length:0>G(q).join(" ").indexOf("transform")?0:1,d.style.overflowY="scroll",d.style.scrollBehavior="smooth",S&&a.forEach(function(a){A(a,"marginBottom","0%","")}));var T=d.clientWidth/p,x=(n||d).offsetWidth-d.clientWidth,H=n?x/2/p:0,n=q.offsetWidth,C=T/(h*n+(h+1)*m),N=p*C,z=n*C,F=q.offsetHeight*C,X=(T-z)/2,Y=(d.clientHeight/
p-F)/2,U=m*C,O=0,E=0,B=0;v&&(!1!==b.scaleTitle?(v.style[y?"zoom":r]=y?N:"scale("+N+")",v.style.width=d.clientWidth/N+"px",O=v.offsetHeight*C):(0<x&&(v.style.width=d.clientWidth+"px"),O=v.offsetHeight/p));a.forEach(function(a){var b=B*z+(B+1)*U-H-X,c=E*F+(E+1)*U+O-Y;a.style[r]="translate("+(0>b.toString().indexOf("e-")?b:0)+"px, "+(0>c.toString().indexOf("e-")?c:0)+"px) scale("+C+")";E*h+B===f&&(a.style.marginBottom=m+"px");a.addEventListener("click",P,!1);B===h-1?(E+=1,B=0):B+=1});R?J(a[g],g,y):0<
M?q.addEventListener(l,u=function(b){b.target===this&&0===--M&&(K("to",e,this),S&&d.scrollHeight>d.clientHeight&&A(d,"overflowY","auto","scroll"),J(a[g],g,y))},!1):(a.forEach(function(a){A(a)}),e.remove("bespoke-overview-to"),J(a[g],g,y))},x=function(a){c.slide("number"===typeof a?a:c.slide(),{scrollIntoView:!1});a=c.slides;var h=c.parent,d=h.classList,f=a.length-1,m=0<c.slide()?a[0]:a[f],g=k(m,"transform"),n=k(m,"transition"),r=h.querySelector(".bespoke-scale-parent"),p,y="webkitAppearance"in h.style;
r?p=parseFloat(r.style[g].slice(6,-1)):(p=w(m))||(p=1);u&&K("to",d,a[0],a[f]);var v=h.scrollTop/p,x=(h.offsetWidth-(r||h).clientWidth)/2/p;h.style.scrollBehavior=h.style.overflowY="";a.forEach(function(a){y&&A(a,"marginBottom","0%","");a.removeEventListener("click",P,!1)});(v||x)&&a.forEach(function(a){var b=a.style[g].match(e);a.style[g]="translate("+(parseFloat(b[1])-x)+"px, "+(parseFloat(b[2])-v)+"px) scale("+b[3]+")";A(a,n,"none","")});h.scrollTop=0;d.remove("bespoke-overview");removeEventListener("resize",
D,!1);(t||[]).forEach(function(a){a()});t=null;b.counter&&d.remove("bespoke-overview-counter");b.location&&Q(!1);d.add("bespoke-overview-from");var z=0<f?G(m).length:0>G(m).join(" ").indexOf("transform")?0:1;a.forEach(function(a){a.style[g]=""});0<z?m.addEventListener(l,u=function(a){a.target===this&&0===--z&&K("from",d,this)},!1):(a.forEach(function(a){A(a)}),d.remove("bespoke-overview-from"))},z=function(){t?x():D()},F=function(a){if(79===a.which)a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||z();
else if(t)switch(a.which){case 13:a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||x();break;case 38:return I(-h,{index:c.slide()});case 40:return I(h,{index:c.slide()})}};c.on("activate",H);c.on("destroy",function(){removeEventListener("resize",D,!1);document.removeEventListener("keydown",F,!1)});c.on("overview",z);document.addEventListener("keydown",F,!1)}}},{"insert-css":10}],8:[function(f,e,g){e.exports=function(b){return function(c){var d=c.parent,a=c.slides[0],e=a.offsetHeight,f=a.offsetWidth,a=
"zoom"===b||"zoom"in d.style&&"transform"!==b,l=function(a){var b=document.createElement("div");b.className="bespoke-scale-parent";a.parentNode.insertBefore(b,a);b.appendChild(a);return b},g=a?c.slides:c.slides.map(l),h=function(a){return["Moz","Webkit","O","ms"].reduce(function(b,c){return c+a in d.style?c+a:b},a.toLowerCase())}("Transform"),m=a?function(a,b){b.style.zoom=a}:function(a,b){b.style[h]="scale("+a+")"};c=function(){g.forEach(m.bind(null,Math.min(d.offsetWidth/f,d.offsetHeight/e)))};
window.addEventListener("resize",c);c()}}},{}],9:[function(f,e,g){e.exports={from:function(b,c){var d=1===(b.parent||b).nodeType?b.parent||b:document.querySelector(b.parent||b),a=[].filter.call("string"===typeof b.slides?d.querySelectorAll(b.slides):b.slides||d.children,function(a){return"SCRIPT"!==a.nodeName}),e=a[0],f={},g=function(b,c){a[b]&&(m("deactivate",t(e,c)),e=a[b],m("activate",t(e,c)))},n=function(b,c){var h=a.indexOf(e)+b;m(0<b?"next":"prev",t(e,c))&&g(h,c)},h=function(a,b){f[a]=(f[a]||
[]).filter(function(a){return a!==b})},m=function(a,b){return(f[a]||[]).reduce(function(a,c){return a&&!1!==c(b)},!0)},t=function(b,c){c=c||{};c.index=a.indexOf(b);c.slide=b;return c},u={on:function(a,b){(f[a]||(f[a]=[])).push(b);return h.bind(null,a,b)},off:h,fire:m,slide:function(b,c){if(arguments.length)m("slide",t(a[b],c))&&g(b,c);else return a.indexOf(e)},next:n.bind(null,1),prev:n.bind(null,-1),parent:d,slides:a};(c||[]).forEach(function(a){a(u)});g(0);return u}}},{}],10:[function(f,e,g){var b=
{};e.exports=function(c,d){if(!b[c]){b[c]=!0;var a=document.createElement("style");a.setAttribute("type","text/css");"textContent"in a?a.textContent=c:a.styleSheet.cssText=c;var e=document.getElementsByTagName("head")[0];d&&d.prepend?e.insertBefore(a,e.childNodes[0]):e.appendChild(a)}}},{}],11:[function(f,e,g){e.exports=function(b){return function(c){var d,a,e=function(a,b){return f(a)-f(b)},f=function(a){a=(a.getAttribute("class")||"").split(/\s+/);for(var b,c=0,d=a.length;c<d;c++)try{if((b=a[c]).startsWith("step-"))return parseInt(b.substr(5),
10)}catch(e){}return-1},g=c.slides.map(function(a){a=[].slice.call(a.querySelectorAll("string"===typeof b?b:"[data-bespoke-bullet]"),0);0!==a.length&&-1!==(a[0].getAttribute("class")||"").split(" ").indexOf("step-0")&&a.sort(e);return a}),n=function(b,c){d=b;a=c;g.forEach(function(a,d){a.forEach(function(a,e){a.classList.add("bespoke-bullet");d<b||d===b&&e<=c?(a.classList.add("bespoke-bullet-active"),a.classList.remove("bespoke-bullet-inactive")):(a.classList.add("bespoke-bullet-inactive"),a.classList.remove("bespoke-bullet-active"));
d===b&&e===c?a.classList.add("bespoke-bullet-current"):a.classList.remove("bespoke-bullet-current")})})};c.on("next",function(){var b=d+1;if(void 0!==g[d][a+1])return n(d,a+1),!1;g[b]&&n(b,0)});c.on("prev",function(){var b=d-1;if(void 0!==g[d][a+-1])return n(d,a-1),!1;g[b]&&n(b,g[b].length-1)});c.on("slide",function(a){n(a.index,0)});n(0,0)}}},{}],12:[function(f,e,g){g=f("bespoke");var b=f("./bespoke-bullets.js"),c=f("bespoke-classes"),d=f("bespoke-fullscreen"),a=f("bespoke-hash"),q=f("bespoke-nav"),
r=f("bespoke-overview");f=f("bespoke-scale");(e.exports=g).deck=g.from(".deck",[c(),q(),d(),f("transform"),r({margin:20}),b(".build, .build-items > *:not(.build-items)"),function(a){var b=function(a){try{a.currentTime=0,a.play()}catch(b){}},c=function(a){try{a.pause()}catch(b){}},d=function(a){return a.querySelectorAll('object[type="image/svg+xml"]')},e=function(b){var c=b.contentDocument.documentElement;"svg"===c.tagName?c.classList.add("active"):b.onload=function(){a.slides[a.slide()].contains(this)&&
e(this)}},f=function(a){a.contentDocument.documentElement.classList.remove("active")};a.on("activate",function(a){if(!a.preview){var c=a.slide.querySelectorAll("audio");Array.prototype.forEach.call(c,b);a=d(a.slide);Array.prototype.forEach.call(a,e)}});a.on("deactivate",function(a){if(!a.preview){var b=a.slide.querySelectorAll("audio");Array.prototype.forEach.call(b,c);a=d(a.slide);Array.prototype.forEach.call(a,f)}})},function(a){window.addEventListener("load",function h(){Array.prototype.forEach.call(a.parent.querySelectorAll("h2.fit, ul.fit"),
function(a){var b=a.getBoundingClientRect().width,c=a.querySelectorAll(".line");0===c.length&&(a.style.display="inline-block",a.style.width="initial",c=[a]);Array.prototype.forEach.call(c,function(a){var c=a.getBoundingClientRect().width,d=parseFloat(window.getComputedStyle(a).fontSize),c=b/c*d;d!=c&&(a.style.fontSize=c+"px")});c[0]===a&&(a.style.display="",a.style.width="")});window.removeEventListener("load",h)},!1)},a()])},{"./bespoke-bullets.js":11,bespoke:9,"bespoke-classes":1,"bespoke-fullscreen":2,
"bespoke-hash":3,"bespoke-nav":6,"bespoke-overview":7,"bespoke-scale":8}]},{},[12])(12)});
